<html>

<head style="height: 100%;">
    <meta charset="UTF-8">
    <title>Login</title>
    <link rel="stylesheet" href="../assets/sidebar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.css">
    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script>
        window.$ = window.jQuery = require('jquery');
        $(document).ready(function () {
            const { ipcRenderer } = require("electron");
            document.getElementById("login").addEventListener("submit", async (event) => {
                event.preventDefault();
                let credentials = {
                    "username": $("#username").val(),
                    "password": $("#password").val()
                }
                ipcRenderer.send('set-root-password-on', credentials);
            });
        });
    </script>
</head>

<body style="height: 100%;">
    <center>
        <form id="login" class="col s12">
            <div class="card" style="width: 30rem;">
                <div class="card-content">
                    <span class="card-title">Enter credentials for admin user</span>
                    <div class='row'>
                        <div class="col s12 m4 l4 offset-m4 offset-l4">
                            <div class="input-field col s12 m12 l12">
                                <input id="username" class="validate" required type="text" minlength="4" />
                                <label for="username">Username</label>
                            </div>
                        </div>
                    </div>
                    <div class='row'>
                        <div class="col s12 m4 l4 offset-m4 offset-l4">
                            <div class="input-field col s12 m12 l12">
                                <input id="password" class="validate" placeholder="******" type="password" minlength="4"
                                    required pattern="(?=.*\d)(?=.*[a-z]).{4,}"
                                    title="Must contain at least one number and one lowercase letter, and at least 4 or more characters" />
                                <label for="username">Password</label>
                            </div>
                        </div>
                    </div>
                    <button type="submit" class="btn btn-primary btn-lg btn-block">Login</button>
                </div>
            </div>
        </form>
    </center>
</body>

</html>